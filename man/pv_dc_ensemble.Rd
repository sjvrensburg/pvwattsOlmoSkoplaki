% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/pv_dc_ensemble.R
\name{pv_dc_ensemble}
\alias{pv_dc_ensemble}
\title{PV DC Power Ensemble - All Model Combinations}
\usage{
pv_dc_ensemble(
  time,
  lat,
  lon,
  GHI,
  T_air,
  wind,
  tilt,
  azimuth,
  albedo = 0.2,
  iam_exp = 0.05,
  P_dc0 = 230,
  gamma = -0.0043,
  min_cos_zenith = 0.01745,
  T_NOCT = 45,
  T_a_NOCT = 20,
  I_NOCT = 800,
  v_NOCT = 1,
  eta_STC = 0.141,
  tau_alpha = 0.9,
  u0 = 25,
  u1 = 6.84
)
}
\arguments{
\item{time}{Timestamps as POSIXct, POSIXlt, character, or numeric. If a timezone
is specified, times are internally converted to UTC for solar position
calculations and returned in the original timezone. If no timezone is
specified, UTC is assumed. See \code{\link{time_utils}} for details.}

\item{lat}{Latitude in degrees}

\item{lon}{Longitude in degrees}

\item{GHI}{Global horizontal irradiance (W/m^2)}

\item{T_air}{Ambient air temperature (deg C)}

\item{wind}{Wind speed (m/s)}

\item{tilt}{Panel tilt angle (degrees)}

\item{azimuth}{Panel azimuth (degrees, 0 = north)}

\item{albedo}{Ground albedo (default 0.2)}

\item{iam_exp}{IAM exponent for power-law model. Default 0.05. Set to NA or
FALSE to disable IAM correction.}

\item{P_dc0}{DC nameplate power (W, default 230 for Trina TSM-230 PC05 module)}

\item{gamma}{Temperature coefficient of max power (1/K, default -0.0043)}

\item{min_cos_zenith}{Minimum value of cos(zenith) for Hay-Davies Rb calculation.
Default: 0.01745.}

\item{T_NOCT}{Nominal Operating Cell Temperature (deg C, default 45).}

\item{T_a_NOCT}{Ambient temperature at NOCT conditions (deg C, default 20).}

\item{I_NOCT}{Irradiance at NOCT conditions (W/m^2, default 800).}

\item{v_NOCT}{Wind speed at NOCT conditions (m/s, default 1).}

\item{eta_STC}{Module efficiency at STC (default 0.141).}

\item{tau_alpha}{Product of transmittance and absorption coefficient (default 0.9).}

\item{u0}{Combined heat loss factor coefficient for Faiman model.
Default 25.0 W/(m²·°C).}

\item{u1}{Combined heat loss factor influenced by wind for Faiman model.
Default 6.84 W/(m²·°C·m/s).}
}
\value{
Data frame with columns:
\itemize{
\item time, GHI, T_air, wind - Input data
\item model - Model combination identifier (e.g., "haydavies_erbs_skoplaki_model1")
\item transposition - Transposition model used
\item decomposition - Decomposition model used (erbs/boland for applicable models, NA for olmo)
\item cell_temp - Cell temperature model used
\item skoplaki_variant - Skoplaki model variant used (model1/model2)
\item G_poa - Plane-of-array irradiance (W/m^2)
\item T_cell - Cell temperature (deg C)
\item P_dc - DC power output (W)
\item iam - Incidence angle modifier (if IAM enabled)
}
}
\description{
Computes DC power using all combinations of transposition,
decomposition, and cell temperature models, returning results in a format
suitable for ensemble analysis.

This function runs a complete ensemble of model combinations covering:
\enumerate{
\item Hay-Davies + ERBS decomposition + Skoplaki (model1/model2)
\item Hay-Davies + ERBS decomposition + Faiman
\item Hay-Davies + Boland decomposition + Skoplaki (model1/model2)
\item Hay-Davies + Boland decomposition + Faiman
\item Reindl + ERBS decomposition + Skoplaki (model1/model2)
\item Reindl + ERBS decomposition + Faiman
\item Reindl + Boland decomposition + Skoplaki (model1/model2)
\item Reindl + Boland decomposition + Faiman
\item Perez + ERBS decomposition + Skoplaki (model1/model2)
\item Perez + ERBS decomposition + Faiman
\item Perez + Boland decomposition + Skoplaki (model1/model2)
\item Perez + Boland decomposition + Faiman
\item Olmo + Skoplaki (model1/model2)
\item Olmo + Faiman
}

The skoplaki_variant parameter only affects results when cell_temp = "skoplaki".
For faiman cell temperature, only one variant is run since results are identical.
}
\examples{
\dontrun{
time <- seq(as.POSIXct("2026-01-15 08:00", tz = "UTC"),
            by = "hour", length.out = 6)
GHI <- c(450, 700, 850, 950, 850, 700)
T_air <- c(26, 29, 32, 34, 32, 29)
wind <- c(3, 4, 4.5, 5, 4.5, 4)

ensemble_result <- pv_dc_ensemble(
  time = time,
  lat = -30.6279,
  lon = 24.0054,
  GHI = GHI,
  T_air = T_air,
  wind = wind,
  tilt = 20,
  azimuth = 0
)

# View unique model combinations
unique(ensemble_result$model)

# Calculate ensemble statistics
ensemble_stats <- aggregate(P_dc ~ time, data = ensemble_result,
                           FUN = function(x) c(mean = mean(x), sd = sd(x)))
}

}
\seealso{
\code{\link{pv_dc_pipeline}} for single model combination
\code{\link{pv_power_ensemble}} for full ensemble including AC power
}
