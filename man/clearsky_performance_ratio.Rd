% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/pv_clearsky_pipeline.R
\name{clearsky_performance_ratio}
\alias{clearsky_performance_ratio}
\title{Calculate Performance Ratio Using Clear-Sky Reference}
\usage{
clearsky_performance_ratio(P_measured, P_clearsky, min_clearsky_power = 100)
}
\arguments{
\item{P_measured}{Measured AC or DC power output (W)}

\item{P_clearsky}{Expected clear-sky AC or DC power output (W)}

\item{min_clearsky_power}{Minimum clear-sky power threshold (W).
PR is set to NA when clear-sky power is below this threshold.
Default: 100}
}
\value{
Numeric vector of performance ratio values (dimensionless, 0-1 typical)
}
\description{
Calculate the performance ratio (PR) of a PV system using clear-sky power as
the reference. This is different from the traditional PR calculation which uses
incident irradiance at STC.

Clear-sky PR is useful for:
\itemize{
\item Identifying underperformance relative to clear-sky potential
\item Comparing performance across different days/seasons
\item Detecting system faults and degradation
}
}
\examples{
\dontrun{
# Calculate clear-sky power
clearsky_result <- pv_clearsky_power_pipeline(
  time, lat, lon, T_air, wind, tilt, azimuth
)

# Assume some measured power (actual conditions with clouds, soiling, etc.)
P_measured <- clearsky_result$P_ac * 0.65  # 65\% of clear-sky

# Calculate performance ratio
pr <- clearsky_performance_ratio(P_measured, clearsky_result$P_ac)
}

}
